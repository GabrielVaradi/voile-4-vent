(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[468],{1346:function(e,a,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[locale]/admin/allowed-skippers",function(){return l(1914)}])},297:function(e,a,l){"use strict";var t=l(5893);l(7294);var r=l(9200),n=l(2175),s=l(4184),i=l.n(s);let o=e=>{let{field:a,fieldLabel:l,placeholder:s,errors:o,touched:d,required:c}=e;return(0,t.jsxs)(r.cw,{row:!0,children:[(0,t.jsxs)(r.__,{for:a,lg:2,children:[l,c&&(0,t.jsx)("span",{className:"required-asterisk",children:"*"})]}),(0,t.jsxs)(r.JX,{lg:10,children:[(0,t.jsx)(r.BZ,{children:(0,t.jsx)(r.II,{type:"text",name:a,id:a,tag:n.gN,required:!0,className:i()({"is-invalid":d[a]&&o[a]}),placeholder:s||"Type here..."})}),(0,t.jsx)(n.Bc,{name:a,render:e=>(0,t.jsx)("small",{className:"text-danger",children:e})})]})]})};a.Z=o},1914:function(e,a,l){"use strict";l.r(a),l.d(a,{__N_SSG:function(){return g},default:function(){return j}});var t=l(5893),r=l(7294),n=l(1163),s=l(9200),i=l(4087),o=l(2175),d=l(297),c=l(4184),u=l.n(c);let _=e=>{let{field:a,fieldLabel:l,placeholder:r,errors:n,touched:i,required:d}=e;return(0,t.jsxs)(s.cw,{row:!0,children:[(0,t.jsxs)(s.__,{for:a,lg:2,children:[l,d&&(0,t.jsx)("span",{className:"required-asterisk",children:"*"})]}),(0,t.jsxs)(s.JX,{lg:10,children:[(0,t.jsx)(s.BZ,{children:(0,t.jsx)(s.II,{type:"tel",name:a,id:a,tag:o.gN,required:!0,className:u()({"is-invalid":i[a]&&n[a]}),placeholder:r||"Type here..."})}),(0,t.jsx)(o.Bc,{name:a,render:e=>(0,t.jsx)("small",{className:"text-danger",children:e})})]})]})};var m=l(4231),h=l(3125),p=l(44),x=l(9016);let f=()=>{let e=(0,n.useRouter)(),{user:a}=(0,i.a)(),{t:l}=(0,x.$G)("allowedSkippers"),[c,u]=(0,r.useState)(!1),[f,g]=(0,r.useState)([]),[j,w]=(0,r.useState)(!1),[v,b]=(0,r.useState)(0),[Z,N]=(0,r.useState)(10),k=(0,r.useMemo)(()=>({rowsPerPageText:l("rows_per_page"),rangeSeparatorText:l("range_separator"),selectAllRowsItem:!0,selectAllRowsItemText:l("select_all_rows")}),[]);(0,r.useEffect)(()=>{a||e.push("/admin-login")},[]),(0,r.useEffect)(()=>{y(1)},[]);let q=m.Ry().shape({first_name:m.Z_().min(2,l("validation_too_short")).max(50,l("validation_too_long")).required(l("validation_required")),last_name:m.Z_().min(2,l("validation_too_short")).max(50,l("validation_too_long")).required(l("validation_required")),email:m.Z_().email(l("validation_email_invalid")).required(l("validation_required")),phone_number:m.Z_().matches(/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/,l("validation_phone_number_invalid")).required(l("validation_required"))}),S=e=>{u(e=>!e),e()},y=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Z;w(!0),h.H6.datatable(e,a).then(e=>{g(e.data),b(e.meta.total),w(!1)})},P=e=>{y(e)},T=async(e,a)=>{w(!0),y(a,e),N(e),w(!1)},C=[{name:l("row_first_name"),selector:e=>e.first_name},{name:l("row_last_name"),selector:e=>e.last_name},{name:l("row_email"),selector:e=>e.email},{name:l("row_phone_number"),selector:e=>e.phone_number}],E=(e,a)=>{let{resetForm:l}=a;h.H6.store(e).then(e=>{let{data:a}=e,t=[...f];t.unshift(a),g(t),u(!1),l()})};return(0,t.jsxs)(s.W2,{className:"d-flex flex-column mt-5",children:[(0,t.jsx)("h1",{className:"mb-4",children:l("page_title")}),(0,t.jsx)(p.ZP,{columns:C,data:f,progressPending:j,pagination:!0,paginationServer:!0,paginationTotalRows:v,onChangeRowsPerPage:T,onChangePage:P,paginationComponentOptions:k}),(0,t.jsx)("div",{className:"w-100 d-flex justify-content-end",children:(0,t.jsx)(s.zx,{color:"primary",className:"mt-3 fs-4",onClick:()=>{u(e=>!e)},children:l("add")})}),(0,t.jsx)(o.J9,{onSubmit:E,initialValues:{first_name:"",last_name:"",email:"",phone_number:""},validationSchema:q,enableReinitialize:!0,children:e=>{let{isSubmitting:a,touched:r,errors:n,submitForm:i,resetForm:u}=e;return(0,t.jsxs)(s.u_,{isOpen:c,toggle:()=>S(u),size:"lg",children:[(0,t.jsx)(s.xB,{toggle:()=>S(u),children:l("add_allowed_skipper")}),(0,t.jsx)(s.fe,{children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(o.l0,{children:[(0,t.jsx)(d.Z,{field:"first_name",fieldLabel:l("first_name_label"),placeholder:l("first_name_placeholder"),errors:n,touched:r,required:!0}),(0,t.jsx)(d.Z,{field:"last_name",fieldLabel:l("last_name_label"),placeholder:l("last_name_placeholder"),errors:n,touched:r,required:!0}),(0,t.jsx)(d.Z,{field:"email",fieldLabel:l("email_label"),placeholder:l("email_placeholder"),errors:n,touched:r,required:!0}),(0,t.jsx)(_,{field:"phone_number",fieldLabel:l("phone_number_label"),placeholder:l("phone_number_placeholder"),errors:n,touched:r,required:!0})]}),a&&(0,t.jsx)("div",{className:"h-100 w-100 bg-light bg-opacity-10 mt-3",children:(0,t.jsx)("div",{className:"spinner-border",role:"status text-center"})})]})}),(0,t.jsxs)(s.mz,{children:[(0,t.jsx)(s.zx,{color:"primary",disabled:a,onClick:i,children:l("add")}),(0,t.jsx)(s.zx,{color:"secondary",onClick:()=>S(u),children:l("cancel")})]})]})}})]})};var g=!0,j=f},3125:function(e,a,l){"use strict";l.d(a,{H6:function(){return h},Ws:function(){return x},KH:function(){return o}});var t=l(6509);let r=()=>t.Z.get("/todos").then(e=>e.data),n=e=>t.Z.post("/todos",e).then(e=>e.data),s=(e,a)=>t.Z.put("/todos/".concat(e),a).then(e=>e.data),i=e=>t.Z.delete("todos/".concat(e));var o={index:r,store:n,update:s,deleteTodo:i};let d=()=>t.Z.get("/allowed-skippers").then(e=>e.data),c=(e,a)=>t.Z.get("/allowed-skippers/datatable",{params:{page:e,per_page:a}}).then(e=>e.data),u=e=>t.Z.post("/allowed-skippers",e).then(e=>e.data),_=(e,a)=>t.Z.put("/allowed-skippers/".concat(e),a).then(e=>e.data),m=e=>t.Z.delete("allowed-skippers/".concat(e));var h={index:d,datatable:c,store:u,update:_,deleteTodo:m};let p=e=>t.Z.post("/mail/send-contact-us-email",e).then(e=>e.data);var x={sendContactUsEmail:p}}},function(e){e.O(0,[141,44,774,888,179],function(){return e(e.s=1346)}),_N_E=e.O()}]);