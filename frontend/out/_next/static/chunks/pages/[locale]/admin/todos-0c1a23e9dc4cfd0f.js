(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[725],{4280:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[locale]/admin/todos",function(){return s(7387)}])},7387:function(e,t,s){"use strict";s.r(t),s.d(t,{__N_SSG:function(){return g}});var n=s(5893),a=s(7294),i=s(1163),d=s(9200),o=s(4087),l=s(2175),c=s(9008),r=s.n(c),u=s(4184),p=s.n(u),h=s(3125),m=s(9417),x=s(2489),f=s(9016),j=s(4231);let _=()=>{let e=(0,i.useRouter)(),{t}=(0,f.$G)("todos"),{user:s}=(0,o.a)(),[c,u]=(0,a.useState)([]);(0,a.useEffect)(()=>{s||e.push("/admin-login")},[]),(0,a.useEffect)(()=>{h.KH.index().then(e=>{let{data:t}=e;return u(t)})},[]);let _=j.Ry().shape({description:j.Z_().required(t("validation_required"))}),g=(e,t)=>{let{resetForm:s}=t;h.KH.store(e).then(e=>{let{data:t}=e,n=[...c];n.unshift(t),u(n),s()}).catch(()=>{s()})},v=e=>{let t=c.map(t=>t.id===e.id?{...e,status:!e.status}:t);u(t),h.KH.update(e.id,{status:!e.status})},N=e=>{let t=c.filter(t=>t.id!==e.id);u(t),h.KH.deleteTodo(e.id)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(r(),{children:[(0,n.jsx)("title",{children:" Voile 4 vents admin todos page "}),(0,n.jsx)("meta",{name:"description",content:"For admins, add any todos you have to complete for the voile 4 vents sailing school"})]}),(0,n.jsxs)(d.W2,{className:"mt-5",children:[(0,n.jsx)("h1",{className:"mb-4",children:t("page_title")}),(0,n.jsx)(l.J9,{initialValues:{description:""},validationSchema:_,onSubmit:g,children:e=>{let{errors:s,touched:a,submitForm:i}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(l.l0,{className:"d-flex align-items-center mb-5",children:[(0,n.jsxs)("div",{className:"d-flex flex-column w-100",children:[(0,n.jsx)(d.BZ,{children:(0,n.jsx)(d.II,{type:"text",name:"description",id:"description",tag:l.gN,required:!0,className:p()({"is-invalid":a.description&&s.description}),placeholder:t("todos_placeholder")})}),(0,n.jsx)(l.Bc,{name:"description",render:e=>(0,n.jsx)("small",{className:"text-danger",children:e})})]}),(0,n.jsx)(x.G,{className:"ms-4",type:"button",style:{color:"#0b0851"},icon:m.EQ8,onClick:i,size:"2x"})]})})}}),null==c?void 0:c.map((e,t)=>(0,n.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,n.jsx)("div",{className:"mb-2 fs-4 ".concat(e.status?"text-decoration-line-through":""),children:"".concat(t+1," - ").concat(e.description)}),(0,n.jsxs)("div",{className:"d-flex align-items-center justify-content-center",children:[(0,n.jsx)(d.II,{type:"checkbox",checked:e.status,onChange:()=>v(e),className:"mt-0 me-4 fs-4"}),(0,n.jsx)(x.G,{type:"button",onClick:()=>N(e),icon:m.$aW,color:"red",size:"lg"})]})]},e.id))]})]})};var g=!0;t.default=_},3125:function(e,t,s){"use strict";s.d(t,{H6:function(){return m},Ws:function(){return f},KH:function(){return l}});var n=s(6509);let a=()=>n.Z.get("/todos").then(e=>e.data),i=e=>n.Z.post("/todos",e).then(e=>e.data),d=(e,t)=>n.Z.put("/todos/".concat(e),t).then(e=>e.data),o=e=>n.Z.delete("todos/".concat(e));var l={index:a,store:i,update:d,deleteTodo:o};let c=()=>n.Z.get("/allowed-skippers").then(e=>e.data),r=(e,t)=>n.Z.get("/allowed-skippers/datatable",{params:{page:e,per_page:t}}).then(e=>e.data),u=e=>n.Z.post("/allowed-skippers",e).then(e=>e.data),p=(e,t)=>n.Z.put("/allowed-skippers/".concat(e),t).then(e=>e.data),h=e=>n.Z.delete("allowed-skippers/".concat(e));var m={index:c,datatable:r,store:u,update:p,deleteTodo:h};let x=e=>n.Z.post("/mail/send-contact-us-email",e).then(e=>e.data);var f={sendContactUsEmail:x}}},function(e){e.O(0,[976,141,603,774,888,179],function(){return e(e.s=4280)}),_N_E=e.O()}]);