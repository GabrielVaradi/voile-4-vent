(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[468],{91346:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[locale]/admin/allowed-skippers",function(){return t(25210)}])},93607:function(e,a,t){"use strict";var n=t(85893);t(67294);var l=t(99200),r=t(43472),s=t(94184),i=t.n(s);let o=e=>{let{field:a,fieldLabel:t,placeholder:s,errors:o,touched:d,required:c}=e;return(0,n.jsxs)(l.cw,{row:!0,children:[(0,n.jsxs)(l.__,{for:a,lg:2,children:[t,c&&(0,n.jsx)("span",{className:"required-asterisk",children:"*"})]}),(0,n.jsxs)(l.JX,{lg:10,children:[(0,n.jsx)(l.BZ,{children:(0,n.jsx)(l.II,{type:"tel",name:a,id:a,tag:r.gN,required:!0,className:i()({"is-invalid":d[a]&&o[a]}),placeholder:s||"Type here..."})}),(0,n.jsx)(r.Bc,{name:a,render:e=>(0,n.jsx)("small",{className:"text-danger",children:e})})]})]})};a.Z=o},70297:function(e,a,t){"use strict";var n=t(85893);t(67294);var l=t(99200),r=t(43472),s=t(94184),i=t.n(s);let o=e=>{let{field:a,fieldLabel:t,placeholder:s,errors:o,touched:d,required:c}=e;return(0,n.jsxs)(l.cw,{row:!0,children:[(0,n.jsxs)(l.__,{for:a,lg:2,children:[t,c&&(0,n.jsx)("span",{className:"required-asterisk",children:"*"})]}),(0,n.jsxs)(l.JX,{lg:10,children:[(0,n.jsx)(l.BZ,{children:(0,n.jsx)(l.II,{type:"text",name:a,id:a,tag:r.gN,required:!0,className:i()({"is-invalid":d[a]&&o[a]}),placeholder:s||"Type here..."})}),(0,n.jsx)(r.Bc,{name:a,render:e=>(0,n.jsx)("small",{className:"text-danger",children:e})})]})]})};a.Z=o},25210:function(e,a,t){"use strict";t.r(a),t.d(a,{__N_SSG:function(){return g}});var n=t(85893),l=t(67294),r=t(11163),s=t(99200),i=t(94087),o=t(43472),d=t(70297),c=t(93607),u=t(74231),h=t(13125),m=t(90044),_=t(42763),p=t(9008),x=t.n(p);let f=()=>{let e=(0,r.useRouter)(),{user:a}=(0,i.a)(),{t}=(0,_.$G)("allowedSkippers"),[p,f]=(0,l.useState)(!1),[g,j]=(0,l.useState)([]),[v,w]=(0,l.useState)(!1),[b,Z]=(0,l.useState)(0),[k,N]=(0,l.useState)(10),q=(0,l.useMemo)(()=>({rowsPerPageText:t("rows_per_page"),rangeSeparatorText:t("range_separator"),selectAllRowsItem:!0,selectAllRowsItemText:t("select_all_rows")}),[]);(0,l.useEffect)(()=>{a||e.push("/admin-login")},[]),(0,l.useEffect)(()=>{C(1)},[]);let y=u.Ry().shape({first_name:u.Z_().min(2,t("validation_too_short")).max(50,t("validation_too_long")).required(t("validation_required")),last_name:u.Z_().min(2,t("validation_too_short")).max(50,t("validation_too_long")).required(t("validation_required")),email:u.Z_().email(t("validation_email_invalid")).required(t("validation_required")),phone_number:u.Z_().matches(/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/,t("validation_phone_number_invalid")).required(t("validation_required"))}),S=e=>{f(e=>!e),e()},C=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k;w(!0),h.H6.datatable(e,a).then(e=>{j(e.data),Z(e.meta.total),w(!1)})},P=e=>{C(e)},T=async(e,a)=>{w(!0),C(a,e),N(e),w(!1)},R=[{name:t("row_first_name"),selector:e=>e.first_name},{name:t("row_last_name"),selector:e=>e.last_name},{name:t("row_email"),selector:e=>e.email},{name:t("row_phone_number"),selector:e=>e.phone_number}],z=(e,a)=>{let{resetForm:t}=a;h.H6.store(e).then(e=>{let{data:a}=e,n=[...g];n.unshift(a),j(n),f(!1),t()})};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(x(),{children:[(0,n.jsx)("title",{children:" Voile 4 vents allowed skippers page "}),(0,n.jsx)("meta",{name:"description",content:"Check and add people to the allowed skippers list to whom you are willing to rent a boat"})]}),(0,n.jsxs)(s.W2,{className:"d-flex flex-column mt-5",children:[(0,n.jsx)("h1",{className:"mb-4",children:t("page_title")}),(0,n.jsx)(m.ZP,{columns:R,data:g,progressPending:v,pagination:!0,paginationServer:!0,paginationTotalRows:b,onChangeRowsPerPage:T,onChangePage:P,paginationComponentOptions:q}),(0,n.jsx)("div",{className:"w-100 d-flex justify-content-end",children:(0,n.jsx)(s.zx,{color:"primary",className:"mt-3 fs-4",onClick:()=>{f(e=>!e)},children:t("add")})}),(0,n.jsx)(o.J9,{onSubmit:z,initialValues:{first_name:"",last_name:"",email:"",phone_number:""},validationSchema:y,enableReinitialize:!0,children:e=>{let{isSubmitting:a,touched:l,errors:r,submitForm:i,resetForm:u}=e;return(0,n.jsxs)(s.u_,{isOpen:p,toggle:()=>S(u),size:"lg",children:[(0,n.jsx)(s.xB,{toggle:()=>S(u),children:t("add_allowed_skipper")}),(0,n.jsx)(s.fe,{children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(o.l0,{children:[(0,n.jsx)(d.Z,{field:"first_name",fieldLabel:t("first_name_label"),placeholder:t("first_name_placeholder"),errors:r,touched:l,required:!0}),(0,n.jsx)(d.Z,{field:"last_name",fieldLabel:t("last_name_label"),placeholder:t("last_name_placeholder"),errors:r,touched:l,required:!0}),(0,n.jsx)(d.Z,{field:"email",fieldLabel:t("email_label"),placeholder:t("email_placeholder"),errors:r,touched:l,required:!0}),(0,n.jsx)(c.Z,{field:"phone_number",fieldLabel:t("phone_number_label"),placeholder:t("phone_number_placeholder"),errors:r,touched:l,required:!0})]}),a&&(0,n.jsx)("div",{className:"h-100 w-100 bg-light bg-opacity-10 mt-3",children:(0,n.jsx)("div",{className:"spinner-border",role:"status text-center"})})]})}),(0,n.jsxs)(s.mz,{children:[(0,n.jsx)(s.zx,{color:"primary",disabled:a,onClick:i,children:t("add")}),(0,n.jsx)(s.zx,{color:"secondary",onClick:()=>S(u),children:t("cancel")})]})]})}})]})]})};var g=!0;a.default=f},13125:function(e,a,t){"use strict";t.d(a,{H6:function(){return v},If:function(){return i},Ws:function(){return b},Rz:function(){return d},KH:function(){return _}});var n=t(46509);let l=()=>n.Z.get("/events").then(e=>e.data),r=()=>n.Z.get("/events/calendar").then(e=>e.data),s=e=>n.Z.post("/events",e).then(e=>e.data);var i={index:l,store:s,eventsCalendar:r};let o=e=>n.Z.post("/create-checkout-session",e).then(e=>e.data);var d={createCheckoutSession:o};let c=()=>n.Z.get("/todos").then(e=>e.data),u=e=>n.Z.post("/todos",e).then(e=>e.data),h=(e,a)=>n.Z.put("/todos/".concat(e),a).then(e=>e.data),m=e=>n.Z.delete("todos/".concat(e));var _={index:c,store:u,update:h,deleteTodo:m};let p=()=>n.Z.get("/allowed-skippers").then(e=>e.data),x=(e,a)=>n.Z.get("/allowed-skippers/datatable",{params:{page:e,per_page:a}}).then(e=>e.data),f=e=>n.Z.post("/allowed-skippers",e).then(e=>e.data),g=(e,a)=>n.Z.put("/allowed-skippers/".concat(e),a).then(e=>e.data),j=e=>n.Z.delete("allowed-skippers/".concat(e));var v={index:p,datatable:x,store:f,update:g,deleteTodo:j};let w=e=>n.Z.post("/mail/send-contact-us-email",e).then(e=>e.data);var b={sendContactUsEmail:w}}},function(e){e.O(0,[494,44,774,888,179],function(){return e(e.s=91346)}),_N_E=e.O()}]);