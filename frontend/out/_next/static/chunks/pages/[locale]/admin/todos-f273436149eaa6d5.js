(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[725],{34280:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[locale]/admin/todos",function(){return n(57387)}])},57387:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return g}});var s=n(85893),a=n(67294),i=n(11163),o=n(99200),d=n(94087),l=n(43472),c=n(9008),r=n.n(c),u=n(94184),h=n.n(u),p=n(13125),m=n(59417),x=n(99603),f=n(42763),v=n(74231);let j=()=>{let e=(0,i.useRouter)(),{t}=(0,f.$G)("todos"),{user:n}=(0,d.a)(),[c,u]=(0,a.useState)([]);(0,a.useEffect)(()=>{n||e.push("/admin-login")},[]),(0,a.useEffect)(()=>{p.KH.index().then(e=>{let{data:t}=e;return u(t)})},[]);let j=v.Ry().shape({description:v.Z_().required(t("validation_required"))}),g=(e,t)=>{let{resetForm:n}=t;p.KH.store(e).then(e=>{let{data:t}=e,s=[...c];s.unshift(t),u(s),n()}).catch(()=>{n()})},_=e=>{let t=c.map(t=>t.id===e.id?{...e,status:!e.status}:t);u(t),p.KH.update(e.id,{status:!e.status})},N=e=>{let t=c.filter(t=>t.id!==e.id);u(t),p.KH.deleteTodo(e.id)};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(r(),{children:[(0,s.jsx)("title",{children:" Voile 4 vents admin todos page "}),(0,s.jsx)("meta",{name:"description",content:"For admins, add any todos you have to complete for the voile 4 vents sailing school"})]}),(0,s.jsxs)(o.W2,{className:"mt-5",children:[(0,s.jsx)("h1",{className:"mb-4",children:t("page_title")}),(0,s.jsx)(l.J9,{initialValues:{description:""},validationSchema:j,onSubmit:g,children:e=>{let{errors:n,touched:a,submitForm:i}=e;return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(l.l0,{className:"d-flex align-items-center mb-5",children:[(0,s.jsxs)("div",{className:"d-flex flex-column w-100",children:[(0,s.jsx)(o.BZ,{children:(0,s.jsx)(o.II,{type:"text",name:"description",id:"description",tag:l.gN,required:!0,className:h()({"is-invalid":a.description&&n.description}),placeholder:t("todos_placeholder")})}),(0,s.jsx)(l.Bc,{name:"description",render:e=>(0,s.jsx)("small",{className:"text-danger",children:e})})]}),(0,s.jsx)(x.G,{className:"ms-4",type:"button",style:{color:"#0b0851"},icon:m.EQ8,onClick:i,size:"2x"})]})})}}),null==c?void 0:c.map((e,t)=>(0,s.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,s.jsx)("div",{className:"mb-2 fs-4 ".concat(e.status?"text-decoration-line-through":""),children:"".concat(t+1," - ").concat(e.description)}),(0,s.jsxs)("div",{className:"d-flex align-items-center justify-content-center",children:[(0,s.jsx)(o.II,{type:"checkbox",checked:e.status,onChange:()=>_(e),className:"mt-0 me-4 fs-4"}),(0,s.jsx)(x.G,{type:"button",onClick:()=>N(e),icon:m.$aW,color:"red",size:"lg"})]})]},e.id))]})]})};var g=!0;t.default=j},13125:function(e,t,n){"use strict";n.d(t,{H6:function(){return _},If:function(){return d},Ws:function(){return Z},Rz:function(){return c},KH:function(){return m}});var s=n(46509);let a=()=>s.Z.get("/events").then(e=>e.data),i=()=>s.Z.get("/events/calendar").then(e=>e.data),o=e=>s.Z.post("/events",e).then(e=>e.data);var d={index:a,store:o,eventsCalendar:i};let l=e=>s.Z.post("/create-checkout-session",e).then(e=>e.data);var c={createCheckoutSession:l};let r=()=>s.Z.get("/todos").then(e=>e.data),u=e=>s.Z.post("/todos",e).then(e=>e.data),h=(e,t)=>s.Z.put("/todos/".concat(e),t).then(e=>e.data),p=e=>s.Z.delete("todos/".concat(e));var m={index:r,store:u,update:h,deleteTodo:p};let x=()=>s.Z.get("/allowed-skippers").then(e=>e.data),f=(e,t)=>s.Z.get("/allowed-skippers/datatable",{params:{page:e,per_page:t}}).then(e=>e.data),v=e=>s.Z.post("/allowed-skippers",e).then(e=>e.data),j=(e,t)=>s.Z.put("/allowed-skippers/".concat(e),t).then(e=>e.data),g=e=>s.Z.delete("allowed-skippers/".concat(e));var _={index:x,datatable:f,store:v,update:j,deleteTodo:g};let N=e=>s.Z.post("/mail/send-contact-us-email",e).then(e=>e.data);var Z={sendContactUsEmail:N}}},function(e){e.O(0,[976,494,603,774,888,179],function(){return e(e.s=34280)}),_N_E=e.O()}]);