(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[468],{1346:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[locale]/admin/allowed-skippers",function(){return t(1914)}])},297:function(e,a,t){"use strict";var l=t(5893);t(7294);var n=t(9200),r=t(2175),s=t(4184),i=t.n(s);let o=e=>{let{field:a,fieldLabel:t,placeholder:s,errors:o,touched:d,required:c}=e;return(0,l.jsxs)(n.cw,{row:!0,children:[(0,l.jsxs)(n.__,{for:a,lg:2,children:[t,c&&(0,l.jsx)("span",{className:"required-asterisk",children:"*"})]}),(0,l.jsxs)(n.JX,{lg:10,children:[(0,l.jsx)(n.BZ,{children:(0,l.jsx)(n.II,{type:"text",name:a,id:a,tag:r.gN,required:!0,className:i()({"is-invalid":d[a]&&o[a]}),placeholder:s||"Type here..."})}),(0,l.jsx)(r.Bc,{name:a,render:e=>(0,l.jsx)("small",{className:"text-danger",children:e})})]})]})};a.Z=o},1914:function(e,a,t){"use strict";t.r(a),t.d(a,{__N_SSG:function(){return w},default:function(){return v}});var l=t(5893),n=t(7294),r=t(1163),s=t(9200),i=t(4087),o=t(2175),d=t(297),c=t(4184),m=t.n(c);let u=e=>{let{field:a,fieldLabel:t,placeholder:n,errors:r,touched:i,required:d}=e;return(0,l.jsxs)(s.cw,{row:!0,children:[(0,l.jsxs)(s.__,{for:a,lg:2,children:[t,d&&(0,l.jsx)("span",{className:"required-asterisk",children:"*"})]}),(0,l.jsxs)(s.JX,{lg:10,children:[(0,l.jsx)(s.BZ,{children:(0,l.jsx)(s.II,{type:"tel",name:a,id:a,tag:o.gN,required:!0,className:m()({"is-invalid":i[a]&&r[a]}),placeholder:n||"Type here..."})}),(0,l.jsx)(o.Bc,{name:a,render:e=>(0,l.jsx)("small",{className:"text-danger",children:e})})]})]})};var h=t(4231),_=t(3125),p=t(44),x=t(9016),g=t(9008),f=t.n(g);let j=()=>{let e=(0,r.useRouter)(),{user:a}=(0,i.a)(),{t}=(0,x.$G)("allowedSkippers"),[c,m]=(0,n.useState)(!1),[g,j]=(0,n.useState)([]),[w,v]=(0,n.useState)(!1),[b,Z]=(0,n.useState)(0),[k,N]=(0,n.useState)(10),q=(0,n.useMemo)(()=>({rowsPerPageText:t("rows_per_page"),rangeSeparatorText:t("range_separator"),selectAllRowsItem:!0,selectAllRowsItemText:t("select_all_rows")}),[]);(0,n.useEffect)(()=>{a||e.push("/admin-login")},[]),(0,n.useEffect)(()=>{C(1)},[]);let y=h.Ry().shape({first_name:h.Z_().min(2,t("validation_too_short")).max(50,t("validation_too_long")).required(t("validation_required")),last_name:h.Z_().min(2,t("validation_too_short")).max(50,t("validation_too_long")).required(t("validation_required")),email:h.Z_().email(t("validation_email_invalid")).required(t("validation_required")),phone_number:h.Z_().matches(/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/,t("validation_phone_number_invalid")).required(t("validation_required"))}),S=e=>{m(e=>!e),e()},C=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k;v(!0),_.H6.datatable(e,a).then(e=>{j(e.data),Z(e.meta.total),v(!1)})},P=e=>{C(e)},T=async(e,a)=>{v(!0),C(a,e),N(e),v(!1)},E=[{name:t("row_first_name"),selector:e=>e.first_name},{name:t("row_last_name"),selector:e=>e.last_name},{name:t("row_email"),selector:e=>e.email},{name:t("row_phone_number"),selector:e=>e.phone_number}],R=(e,a)=>{let{resetForm:t}=a;_.H6.store(e).then(e=>{let{data:a}=e,l=[...g];l.unshift(a),j(l),m(!1),t()})};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(f(),{children:[(0,l.jsx)("title",{children:" Voile 4 vents allowed skippers page "}),(0,l.jsx)("meta",{name:"description",content:"Check and add people to the allowed skippers list to whom you are willing to rent a boat"})]}),(0,l.jsxs)(s.W2,{className:"d-flex flex-column mt-5",children:[(0,l.jsx)("h1",{className:"mb-4",children:t("page_title")}),(0,l.jsx)(p.ZP,{columns:E,data:g,progressPending:w,pagination:!0,paginationServer:!0,paginationTotalRows:b,onChangeRowsPerPage:T,onChangePage:P,paginationComponentOptions:q}),(0,l.jsx)("div",{className:"w-100 d-flex justify-content-end",children:(0,l.jsx)(s.zx,{color:"primary",className:"mt-3 fs-4",onClick:()=>{m(e=>!e)},children:t("add")})}),(0,l.jsx)(o.J9,{onSubmit:R,initialValues:{first_name:"",last_name:"",email:"",phone_number:""},validationSchema:y,enableReinitialize:!0,children:e=>{let{isSubmitting:a,touched:n,errors:r,submitForm:i,resetForm:m}=e;return(0,l.jsxs)(s.u_,{isOpen:c,toggle:()=>S(m),size:"lg",children:[(0,l.jsx)(s.xB,{toggle:()=>S(m),children:t("add_allowed_skipper")}),(0,l.jsx)(s.fe,{children:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(o.l0,{children:[(0,l.jsx)(d.Z,{field:"first_name",fieldLabel:t("first_name_label"),placeholder:t("first_name_placeholder"),errors:r,touched:n,required:!0}),(0,l.jsx)(d.Z,{field:"last_name",fieldLabel:t("last_name_label"),placeholder:t("last_name_placeholder"),errors:r,touched:n,required:!0}),(0,l.jsx)(d.Z,{field:"email",fieldLabel:t("email_label"),placeholder:t("email_placeholder"),errors:r,touched:n,required:!0}),(0,l.jsx)(u,{field:"phone_number",fieldLabel:t("phone_number_label"),placeholder:t("phone_number_placeholder"),errors:r,touched:n,required:!0})]}),a&&(0,l.jsx)("div",{className:"h-100 w-100 bg-light bg-opacity-10 mt-3",children:(0,l.jsx)("div",{className:"spinner-border",role:"status text-center"})})]})}),(0,l.jsxs)(s.mz,{children:[(0,l.jsx)(s.zx,{color:"primary",disabled:a,onClick:i,children:t("add")}),(0,l.jsx)(s.zx,{color:"secondary",onClick:()=>S(m),children:t("cancel")})]})]})}})]})]})};var w=!0,v=j},3125:function(e,a,t){"use strict";t.d(a,{H6:function(){return _},Ws:function(){return x},KH:function(){return o}});var l=t(6509);let n=()=>l.Z.get("/todos").then(e=>e.data),r=e=>l.Z.post("/todos",e).then(e=>e.data),s=(e,a)=>l.Z.put("/todos/".concat(e),a).then(e=>e.data),i=e=>l.Z.delete("todos/".concat(e));var o={index:n,store:r,update:s,deleteTodo:i};let d=()=>l.Z.get("/allowed-skippers").then(e=>e.data),c=(e,a)=>l.Z.get("/allowed-skippers/datatable",{params:{page:e,per_page:a}}).then(e=>e.data),m=e=>l.Z.post("/allowed-skippers",e).then(e=>e.data),u=(e,a)=>l.Z.put("/allowed-skippers/".concat(e),a).then(e=>e.data),h=e=>l.Z.delete("allowed-skippers/".concat(e));var _={index:d,datatable:c,store:m,update:u,deleteTodo:h};let p=e=>l.Z.post("/mail/send-contact-us-email",e).then(e=>e.data);var x={sendContactUsEmail:p}}},function(e){e.O(0,[141,44,774,888,179],function(){return e(e.s=1346)}),_N_E=e.O()}]);