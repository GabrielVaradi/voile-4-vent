(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[725],{4280:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[locale]/admin/todos",function(){return s(7387)}])},7387:function(e,t,s){"use strict";s.r(t),s.d(t,{__N_SSG:function(){return _}});var n=s(5893),a=s(7294),i=s(1163),d=s(9200),l=s(4087),c=s(2175),o=s(4184),r=s.n(o),u=s(3125),p=s(9417),h=s(2489),m=s(9016),x=s(4231);let f=()=>{let e=(0,i.useRouter)(),{t}=(0,m.$G)("todos"),{user:s}=(0,l.a)(),[o,f]=(0,a.useState)([]);(0,a.useEffect)(()=>{s||e.push("/admin-login")},[]),(0,a.useEffect)(()=>{u.KH.index().then(e=>{let{data:t}=e;return f(t)})},[]);let _=x.Ry().shape({description:x.Z_().required(t("validation_required"))}),j=(e,t)=>{let{resetForm:s}=t;u.KH.store(e).then(e=>{let{data:t}=e,n=[...o];n.unshift(t),f(n),s()}).catch(()=>{s()})},N=e=>{let t=o.map(t=>t.id===e.id?{...e,status:!e.status}:t);f(t),u.KH.update(e.id,{status:!e.status})},g=e=>{let t=o.filter(t=>t.id!==e.id);f(t),u.KH.deleteTodo(e.id)};return(0,n.jsxs)(d.W2,{className:"mt-5",children:[(0,n.jsx)("h1",{className:"mb-4",children:t("page_title")}),(0,n.jsx)(c.J9,{initialValues:{description:""},validationSchema:_,onSubmit:j,children:e=>{let{errors:s,touched:a,submitForm:i}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(c.l0,{className:"d-flex align-items-center mb-5",children:[(0,n.jsxs)("div",{className:"d-flex flex-column w-100",children:[(0,n.jsx)(d.BZ,{children:(0,n.jsx)(d.II,{type:"text",name:"description",id:"description",tag:c.gN,required:!0,className:r()({"is-invalid":a.description&&s.description}),placeholder:t("todos_placeholder")})}),(0,n.jsx)(c.Bc,{name:"description",render:e=>(0,n.jsx)("small",{className:"text-danger",children:e})})]}),(0,n.jsx)(h.G,{className:"ms-4",type:"button",style:{color:"#0b0851"},icon:p.EQ8,onClick:i,size:"2x"})]})})}}),null==o?void 0:o.map((e,t)=>(0,n.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,n.jsx)("div",{className:"mb-2 fs-4 ".concat(e.status?"text-decoration-line-through":""),children:"".concat(t+1," - ").concat(e.description)}),(0,n.jsxs)("div",{className:"d-flex align-items-center justify-content-center",children:[(0,n.jsx)(d.II,{type:"checkbox",checked:e.status,onChange:()=>N(e),className:"mt-0 me-4 fs-4"}),(0,n.jsx)(h.G,{type:"button",onClick:()=>g(e),icon:p.$aW,color:"red",size:"lg"})]})]},e.id))]})};var _=!0;t.default=f},3125:function(e,t,s){"use strict";s.d(t,{H6:function(){return m},Ws:function(){return f},KH:function(){return c}});var n=s(6509);let a=()=>n.Z.get("/todos").then(e=>e.data),i=e=>n.Z.post("/todos",e).then(e=>e.data),d=(e,t)=>n.Z.put("/todos/".concat(e),t).then(e=>e.data),l=e=>n.Z.delete("todos/".concat(e));var c={index:a,store:i,update:d,deleteTodo:l};let o=()=>n.Z.get("/allowed-skippers").then(e=>e.data),r=(e,t)=>n.Z.get("/allowed-skippers/datatable",{params:{page:e,per_page:t}}).then(e=>e.data),u=e=>n.Z.post("/allowed-skippers",e).then(e=>e.data),p=(e,t)=>n.Z.put("/allowed-skippers/".concat(e),t).then(e=>e.data),h=e=>n.Z.delete("allowed-skippers/".concat(e));var m={index:o,datatable:r,store:u,update:p,deleteTodo:h};let x=e=>n.Z.post("/mail/send-contact-us-email",e).then(e=>e.data);var f={sendContactUsEmail:x}}},function(e){e.O(0,[976,141,603,774,888,179],function(){return e(e.s=4280)}),_N_E=e.O()}]);